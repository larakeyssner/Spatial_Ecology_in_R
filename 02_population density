#code for estimation population ecology

#package for point pattern analysis 
install.packages("spatstat")
library(spatstat)

#data used is bei already in the package 
bei
plot(bei, pch=16, col ="black", cex=.5)

#two maps inside the data set one elevation and gradient
bei.extra
plot(bei.extra$elev) #to select only one of the variables 
plot(bei.extra[[1]]) #to only plot the first plot with double brackets needed 

elevation <- bei.extra$elev
plot(elevation)

#to create a density map
densitymap <- density(bei)
plot(densitymap)

#then to plot add the points on the previous map 
points(bei, cex=.2)

#opposite of the elevation and density visible in the maps 
#with point function the points can be added in the map 

# Plotting the maps one beside the other --> can't be in one because different data sets 
par(mfrow=c(1,2))
plot(elevation)
plot(densitymap)

par(mfrow=c(2,1))
plot(elevation)
plot(densitymap)

# Exercise: make a multiframe with maps one on top of the other
par(mfrow=c(2,1))
plot(elevation)
plot(densitymap)

dev.off()  #close any device/graphs and also to stop par function 

# Changing colours to maps
cl <- colorRampPalette(c("red", "orange", "yellow"))(3) #capital letters needed because this is the given name 
plot(densitymap, col=cl)

cl2 <- colorRampPalette(c("green", "red", "blue", "orange")) #is also in this order if no number behinde it takes the default 
plot(densitymap, col=cl2) # colouring based on this colours 


cl <- colorRampPalette(c("red", "orange", "yellow"))(10)
plot(densitymap, col=cl)

cl <- colorRampPalette(c("red", "orange", "yellow"))(100) #100 of intermediate colours so it is more smooth the transition (outside of the function)
plot(densitymap, col=cl)

# search your browser for "colors in R" to find the codes or names for the specific colours 
# https://r-charts.com/colors/   --> possible to copy the code from the page and enter in "" 

# Exercise: change the color ramp palette using different colors

cln <- colorRampPalette(c("purple1", "orchid2", "palegreen3", "paleturquoise"))(100)
plot(densitymap, col=cln)

# Exercise: build a multiframe and plot the densitymap with two different color ramp palettes one beside the other

par(mfrow=c(1,2))

cln <- colorRampPalette(c("purple1", "orchid2", "palegreen3", "paleturquoise"))(100)
plot(densitymap, col=cln)

clg <- colorRampPalette(c("green4", "green3", "green2", "green1", "green"))(100)
plot(densitymap, col=clg)

dev.off()
